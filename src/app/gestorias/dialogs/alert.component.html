<div class="modal-1 radiu-tp" *ngIf="data.tipo ===1">
  <div class="text-center mt-5">
    <img src="../../../assets/img/totalplay/Icon awesome-check-circle.svg" alt="" style="margin-top: -50px;">
  </div>
  <div class="text-center mt-1">
    <h2 class="text-gris"> con &eacute;xito</h2>
    <div class="mt-1 bg-gris">
      <div class="p-4 text-start">
        <table class="table table-striped" style="height: 230px;">
          <thead>
          </thead>
          <tbody>
            <tr>
              <td><strong>Folio</strong></td>
              <td style="text-align: right;">{{data.req.id}}</td>
            </tr>
            <tr>
              <td><strong>Tipo Permiso:</strong></td>
              <td style="text-align: right;">{{data.req.permiso}}</td>
            </tr>

            <tr>
              <td><strong>Estado:</strong></td>
              <td style="text-align: right;">{{data.req.ubicacion}}</td>
            </tr>

            <tr>
              <td><strong>Municipio:</strong></td>
              <td style="text-align: right;">{{data.req.municipio}}</td>
            </tr>

            <tr>
              <td><strong>Vigencia:</strong></td>
              <td style="text-align: right;">{{data.req.vigencia}}</td>
            </tr>

            <tr>
              <td><strong>Fecha Requerimiento:</strong></td>
              <td style="text-align: right;">{{data.req.fechareq}}</td>
            </tr>

            <tr>
              <td><strong>Fecha Vencimiento:</strong></td>
              <td style="text-align: right;">{{data.req.fechavencimiento}}</td>
            </tr>

            <tr>
              <td><strong>&Aacute;reas:</strong></td>
              <td style="text-align: right;">{{data.req.area}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <div class="text-center">
    <button mat-button="" mat-dialog-close="" class="btn-tp radiu-tp btn-alert mt-1" type="button" [routerLink]=""
      style="margin-right: 15px; margin-bottom: 10px;">
      <span class="mat-button-wrapper">Nuevo Folio</span>
    </button>
    <button mat-button="" mat-dialog-close="" class="btn-tp radiu-tp btn-alert mt-1" type="button"
      [routerLink]="['/gestorias/requerimientos']"><span class="mat-button-wrapper">Bandeja de entrada</span>
    </button>
  </div>
</div>

<div class="modal-2 radiu-tp" *ngIf="data.tipo ===2">
  <div class="text-center mt-4">
    <h2 class="text-gris mb-3">{{data.title}}</h2>
    <div class="mt-5 row">
      <table class="table table-striped table-hover">
        <thead>
          <th>Folio:</th>
          <th>Fecha requerimiento:</th>
          <th>Municipio</th>
          <th>Tipo de permiso:</th>
        </thead>
        <tbody>
          <tr *ngFor="let item of data.array">
            <td><a [routerLink]="['/gestorias/requerimiento']" (click)="editRequrimineto(item)">{{item.id}}</a></td>
            <td>{{item.fechareq}}</td>
            <td>{{item.municipio}}</td>
            <td>{{item.permiso}}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="text-center mt-5">
    <button mat-button="" mat-dialog-close="" class="btn-tp radiu-tp btn-alert mt-4" type="button">
      <span class="mat-button-wrapper">{{data.boton}}</span>
    </button>
  </div>
</div>

<div class="modal-catalogo radiu-tp" *ngIf="data.tipo ===3">
  <form [formGroup]="crearForm" autocomplete="off">
    <div class="text-center mt-4">
      <h2 class="text-gris">{{data.title}}</h2>
      <blockquote class="blockquote col-12 p-4 m-2 bg-gris text-start">
        <div class="row">
          <div class=" col-12 form-control-sm">
            <label for="nombre" class="form-label">Nombre</label>
            <input class="form-control" [(ngModel)]="data.req.descripcion" maxlength="20" formControlName="nombre"
              (ngModelChange)="data.req.descripcion = $event.toUpperCase()" />
          </div>
          <div class=" col-12 form-control-sm">
            <label for="decripcion" class="form-label">Descripci&oacute;n</label>
            <input class="form-control" maxlength="100" [(ngModel)]="data.req.comentario" formControlName="descripcion"
              (ngModelChange)="data.req.comentario = $event.toUpperCase()" />
          </div>
        </div>
      </blockquote>
    </div>
    <div class="text-center">
      <button mat-button mat-dialog-close class="btn btn-light radiu-tp btn-alert mt-4">Cerrar</button>&nbsp;
      <button mat-button="" mat-dialog-close="" class="btn-tp radiu-tp btn-alert mt-4" type="button"
        (click)="generico(data.tipe, data.req.id, data.catid)">
        <span class="mat-button-wrapper">{{data.button}}</span>
      </button>
    </div>
  </form>
</div>

<div class="modal-2 radiu-tp" *ngIf="data.tipo ===4">
  <div class="text-center mt-4">
    <div class="modal-header">
      <h2 class="text-gris mb-3" style="width: 100%;">{{data.title}}</h2>
      <button mat-button="" mat-dialog-close="" style="background-color: lightgrey;" type="button" class="close"
        aria-label="Close">
        <span aria-hidden="true">×</span>
      </button>
    </div>
    <div class="mt-5 row">
      <table class="table table-striped table-hover">
        <thead>
          <th>Folio:</th>
          <th>Fecha requerimiento:</th>
          <th>Municipio</th>
          <th>Tipo de permiso:</th>
        </thead>
        <tbody>
          <tr *ngFor="let item of data.array">
            <td><a [routerLink]="['/gestorias/reactivar']" mat-dialog-close="" class="close"
                (click)="editRequrimineto(item)">{{item.id}}</a></td>
            <td>{{item.fechareq}}</td>
            <td>{{item.municipio}}</td>
            <td>{{item.permiso}}</td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="text-center mt-5">
      <button mat-button="" mat-dialog-close="" class="btn-tp radiu-tp btn-alert mt-4" type="button">
        <span class="mat-button-wrapper">{{data.boton}}</span>
      </button>
    </div>
  </div>
</div>

<!-- motivos activacion/rechazo -->
<div class="modal-2 radiu-tp" *ngIf="data.tipo ===5">
  <form [formGroup]="comentariosForm" autocomplete="off">
    <div class="text-center mt-4">
      <div class="modal-header">
        <h2 class="text-gris mb-3" style="width: 100%;">{{data.title}}</h2>
        <button mat-button="" mat-dialog-close="" style="background-color: lightgrey;" type="button" class="close"
          aria-label="Close">
          <span aria-hidden="true">×</span>
        </button>
      </div>
      <div class="mt-5 row">
        <table class="table table-striped table-hover">
          <thead>
            <th>Folio:</th>
            <th>Fecha requerimiento:</th>
            <th>Municipio</th>
            <th>Tipo de permiso:</th>
          </thead>
          <tbody>
            <tr *ngFor="let item of data.array">
              <td>{{item.id}}</td>
              <td>{{item.fechareq}}</td>
              <td>{{item.municipio}}</td>
              <td>{{item.permiso}}</td>
            </tr>
          </tbody>
        </table>
        <div class="text-center mt-5" style="display: inline-block; position: relative;;">
          <label for="motivo" class="form-label">Motivo</label>
          <input style="border: 1px solid #ced4da!important;height: 100px;" type="text" class="form-control" id="motivo"
            aria-describedby="Motivo" formControlName="comentario" />
        </div>
      </div>
      <div class="text-center mt-5">
        <!--<button mat-button="" mat-dialog-close="" class="btn-tp radiu-tp btn-alert mt-4" type="button" style="margin-right: 15px;" (click)="autorizaRequerimiento()">
        <span class="mat-button-wrapper">Autorizar</span>
      </button>-->
        <button mat-button="" mat-dialog-close="" class="btn-tp radiu-tp btn-alert mt-1" type="button"
          (click)="rechazarRequerimiento()">
          <span class="mat-button-wrapper">Rechazar</span>
        </button>
      </div>
    </div>
  </form>
</div>

<div class="modal-1 radiu-tp" *ngIf="data.tipo ===6">
  <div class="text-center mt-5">
    <img src="../../../assets/img/totalplay/Icon awesome-check-circle.svg" alt="">
  </div>
  <div class="text-center mt-1">
    <h2 class="text-gris"> con &eacute;xito</h2>

  </div>
  <div class="text-center">

    <button mat-button="" mat-dialog-close="" class="btn-tp radiu-tp btn-alert mt-1" type="button"
      [routerLink]="['/gestorias/requerimientos']"><span class="mat-button-wrapper">Bandeja de entrada</span>
    </button>
  </div>
</div>

<div class="modal-1 radiu-tp" *ngIf="data.tipo ===7">
  <div class="text-center mt-2">
    <h2 class="text-gris"> {{data.nombre}}</h2>
    <!--<img src="../../../assets/img/totalplay/Icon awesome-check-circle.svg" alt="">-->
  </div>
  <div class="text-center mt-1" style="height: 375px;">
    <img src="{{data.file}}" *ngIf="data.tipoFile!='pdf'" style="width: 100%;height: 100%;">
    <pdf-viewer *ngIf="data.tipoFile==='pdf'" [src]="data.file" [rotation]="0" [original-size]="true" [show-all]="true"
      [fit-to-page]="true" [zoom]="1" [zoom-scale]="'page-width'" [stick-to-page]="true" [render-text]="true"
      [external-link-target]="'blank'" [autoresize]="true" [show-borders]="true" style="width: 100%; height: 400px;">
    </pdf-viewer>

  </div>
  <div class="text-center mt-4">

    <button mat-button="" mat-dialog-close="" class="btn-tp radiu-tp btn-alert" type="button"><span
        class="mat-button-wrapper">Regresar</span>
    </button>
  </div>
</div>

<div class="modal-1 radiu-tp" *ngIf="data.tipo ===8" style="height: 650px;">
  <form [formGroup]="crearFormUser" autocomplete="off">
    <div class="text-center mt-4">
      <h2 class="text-gris">Crear Usuario</h2>
      <blockquote class="blockquote col-12 p-4 m-2 bg-gris text-start">
        <div class="row">
          <div class=" col-12 form-control-sm">
            <label for="nombre" class="form-label">*No. Empleado</label>
            <input class="form-control" maxlength="20" formControlName="usuario_usr" />
          </div>
          <div class=" col-12 form-control-sm">
            <label for="decripcion" class="form-label">*Contraseña</label>
            <input class="form-control" maxlength="100" formControlName="password_usr" />
          </div>

          <div class=" col-12 form-control-sm">
            <label for="decripcion" class="form-label">*Nombre Completo</label>
            <input class="form-control" maxlength="100" formControlName="nombre_usr" />
          </div>

          <div class=" col-12 form-control-sm">
            <div class="row">
              <div class="mb-3 col-4 form-control-sm">
                <label for="decripcion" class="form-label">*Region</label>
                <select id="inputState" class="form-select" formControlName="region_usr"
                  (change)="getEstadosByRegion()">
                  <option selected></option>
                  <option *ngFor="let item of regiones;" value="{{item.id}}">{{item.descripcion}}</option>
                </select>
              </div>

              <div class="mb-3 col-4 form-control-sm">
                <label for="decripcion" class="form-label">*Estados</label>
                <select id="inputState" class="form-select" formControlName="area_usr"
                  (change)="getAdmonByRegion($event)">
                  <option selected></option>
                  <option *ngFor="let item of municipio;" value="{{item.id}}">{{item.descripcion}}</option>
                </select>
              </div>

              <div class="mb-3 col-4 form-control-sm">
                <button class="btn-tp radiu-tp" (click)="addEstado()" style="margin-top: 10px; width: 100px;">Agregar Estado</button>
              </div>

            </div>


          </div>

          <div class=" col-12 form-control-sm" *ngIf="mAddEstados" >
            <ul  *ngFor="let mItem of mListEstadosToAdd; let i = index">
              <li style="display:inline; width: 80px; background-color: #7A4CF6; padding: 5px; border-radius: 6px; color: #ced4da;">{{mItem.descripcion}}</li>
              <div style="margin-left: -10px;margin-top: -30px;"><button class="kc_del_main_btn_float" (click)="deleteArea(i)">-</button></div>
            </ul>
          </div>

          <div class=" col-12 form-control-sm">
            <label for="decripcion" class="form-label">*Rol</label>
            <select id="inputState" class="form-select" formControlName="role_usr" (change)="showSelect()">
              <option selected></option>
              <option *ngFor="let item of roles;" value="{{item.id}}">{{item.role}}</option>
            </select>
          </div>


          <div class=" col-12 form-control-sm" *ngIf="mSelectionRoleOP">
            <label for="decripcion" class="form-label">*Administrador a cargo</label>
            <select id="inputState" class="form-select" formControlName="admon" (change)="getAdmonSelect($event)">
              <option selected></option>
              <option *ngFor="let item of userByEstado;  let i = index" value="{{item.id}}">{{item.name}}</option>
            </select>
          </div>

          <div class=" col-12 form-control-sm">
            <label for="decripcion" class="form-label">*Correo</label>
            <input class="form-control" maxlength="100" formControlName="correo_usr" />
          </div>
        </div>
      </blockquote>
    </div>
    <div class="text-center" style="padding: 10px;">
      <button mat-dialog-close class="btn radiu-tp btn-outline-tp" style="width: 230px; height: 43px;">Cerrar</button>&nbsp;
      <button mat-button=""  mat-dialog-close class="btn-tp radiu-tp btn-alert mt-4" type="button"
        (click)="onSubmit()">
        <span class="mat-button-wrapper">Crear Usuario</span>
      </button>
    </div>
  </form>
</div>


<div class="modal-1 radiu-tp" *ngIf="data.tipo ===9" style="height: 675px;">
  <div class="text-center mt-4">
    <div class="modal-header">
      <h2 class="text-gris mb-3">{{data.file.name}}</h2>
      <button mat-button="" mat-dialog-close="" style="background-color: transparent;" type="button" class="close"
        aria-label="Close">Cerrar
      </button>
    </div>
  </div>
  <div class="text-center mt-1" >
    <!--<img src="{{data.file.url}}" *ngIf="data.file.typeFile!='image/png'" style="width: 100%;height: 100%;">-->
    <pdf-viewer *ngIf="data.file.typeFile==='application/pdf'" [src]="data.file.url" [rotation]="0"
      [original-size]="true" [show-all]="true" [fit-to-page]="true" [zoom]="1" [zoom-scale]="'page-width'"
      [stick-to-page]="true" [render-text]="true" [external-link-target]="'blank'" [autoresize]="true"
      [show-borders]="true" style="width: 100%; height: 400px;"></pdf-viewer>

  </div>

</div>

<div class="modal-2 radiu-tp" *ngIf="data.tipo === 10" style="height: 350px;">
  <div class="text-center mt-4">
    <div class="modal-header">
      <h2 class="text-gris mb-3" style="width: 100%;">Cierre de requerimiento</h2>

    </div>
    <div class="mt-5 row">
      <table class="table table-striped">
        <thead>
          <th>Nombre Perfil</th>
          <th>Correo</th>
        </thead>
        <tbody>
          <tr *ngFor="let item of mUserDataEmails">
            <td>{{item.name}}</td>
            <td>{{item.email}}</td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="text-center mt-5">
      <button mat-button="" mat-dialog-close="" class="btn-tp radiu-tp btn-alert mt-4" type="button"
        style="margin-right: 15px;" (click)="cerrarReq()">
        <span class="mat-button-wrapper">Continuar</span>
      </button>
      <button mat-button="" mat-dialog-close="" class="btn-tp radiu-tp btn-alert mt-1" type="button">
        <span class="mat-button-wrapper">Cerrar</span>
      </button>
    </div>
  </div>
</div>

<div class="modal-catalogo radiu-tp" *ngIf="data.tipo ===11" style="height: 350px;width: 900px;">
  <form [formGroup]="fechaVigenciaForm" autocomplete="off">
    <div class="text-center mt-4">
      <h2 class="text-gris">Agregar Fecha</h2>
      <blockquote class="blockquote col-18 p-4 m-2 bg-gris">
        <div class="row">

          <div class="mb-3 col-4 form-control-sm">
            <label for="exampleInputEmail1" class="form-label"><strong>Vigencia del permiso</strong></label>

            <div class="grid2">
              <input type="number" class="form-control" id="vigencia" placeholder="00" aria-describedby="emailHelp"
                formControlName="vigencia" />
              <select name="" class="mt-5" formControlName="unidad" s>
                <option disabled selected value=""></option>
                <option value="{{item.id}}" *ngFor="let item of unidad">{{item.descripcion}}</option>
              </select>
            </div>
          </div>

          <div class="mb-3 col-4 form-control-sm">
            <label for="exampleInputEmail1" class="form-label"><strong>Fecha requerimiento</strong></label>

            <p>
              <br>

              <input type="date" class="form-control" id="fechaRequerimiento" aria-describedby="fechaRequerimiento"
                formControlName="fechaRequerimiento" style="margin-top: 10.5px;" />
            </p>
          </div>

          <div class="mb-3 col-4 form-control-sm">
            <label for="exampleInputEmail1" class="form-label"><strong>Fecha Vencimiento</strong></label>

            <p>
              <br>
              <input type="date" class="form-control" id="fechaVencimeinto" aria-describedby="fechaVencimeinto"
                formControlName="fechaVencimeinto" style="margin-top: 10.5px;" />
            </p>
          </div>

        </div>
      </blockquote>
    </div>
    <div class="text-center">
      <button mat-button mat-dialog-close class="btn btn-light radiu-tp btn-alert mt-4">Cerrar</button>&nbsp;
      <button mat-button="" mat-dialog-close="" class="btn-tp radiu-tp btn-alert mt-4" type="button"
        (click)="guardarFecha()">
        <span class="mat-button-wrapper">Agregar</span>
      </button>
    </div>
  </form>
</div>

<div class="modal-2 radiu-tp" *ngIf="data.tipo ===12">
  <div class="text-center mt-4">
    <div class="modal-header">

      <h2 class="text-gris mb-3">Operadores Asignados</h2>
      <button mat-button="" mat-dialog-close="" style="background-color: transparent;" type="button" class="close"
        aria-label="Close">
        <span aria-hidden="true">×</span>
      </button>
    </div>
    <div class="mt-5 row">
      <table class="table table-striped table-hover">
        <thead>
          <th>Usuario:</th>
          <th>Nombre:</th>
          <th>Email:</th>

        </thead>
        <tbody>
          <tr *ngFor="let item of mListUsersOwn">
            <td>{{item.username}}</td>
            <td>{{item.name}}</td>
            <td>{{item.email}}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<div class="modal-catalogo radiu-tp" *ngIf="data.tipo ===13" style="height: 350px;width: 900px;">
  <form [formGroup]="editarUsr" autocomplete="off">
    <div class="text-center mt-4">
      <h2 class="text-gris">Modificar Datos</h2>
      <blockquote class="blockquote col-18 p-4 m-2 bg-gris">
        <div class="row">

          <div class="mb-3 col-6 form-control-sm">
            <label for="exampleInputEmail1" class="form-label"><strong>Nombre Completo</strong></label>

            <p>
              <br>

              <input type="text" class="form-control" id="usr_nombre" aria-describedby="usr_nombre"
                formControlName="usr_nombre" style="margin-top: 10.5px;" />
            </p>
          </div>

         <!--<div class="mb-3 col-4 form-control-sm">
            <label for="exampleInputEmail1" class="form-label"><strong>Region</strong></label>

            <p>
              <br>

              <input type="text" class="form-control" id="usr_region" aria-describedby="usr_region"
                formControlName="usr_region" style="margin-top: 10.5px;" />
            </p>
          </div>-->

          <div class="mb-3 col-6 form-control-sm">
            <label for="exampleInputEmail1" class="form-label"><strong>Email</strong></label>

            <p>
              <br>
              <input type="text" class="form-control" id="usr_email" aria-describedby="usr_email"
                formControlName="usr_email" style="margin-top: 10.5px;" />
            </p>
          </div>

        </div>
      </blockquote>
    </div>
    <div class="text-center">
      <button mat-button mat-dialog-close class="btn btn-light radiu-tp btn-alert mt-4">Cerrar</button>&nbsp;
      <button mat-button="" mat-dialog-close="" class="btn-tp radiu-tp btn-alert mt-4" type="button"
        (click)="editarDatos()">
        <span class="mat-button-wrapper">Modificar</span>
      </button>
    </div>
  </form>
</div>

<div class="modal-2 radiu-tp" *ngIf="data.tipo ===14" style="height: 750px;width: 550px;">
  <div class="text-center mt-4">
    <div class="modal-header">

      <h2 class="text-gris mb-3">Estados</h2>
      <button mat-button="" mat-dialog-close="" style="background-color: transparent;" type="button" class="close"
        aria-label="Close">
        <span aria-hidden="true">×</span>
      </button>
    </div>
    <div class="mt-5 row">
      <table class="table table-striped table-hover">
        <thead>
          <th>Seleccionar</th>
          <th>Estados</th>
        </thead>
        <tbody>
          <tr *ngFor="let item of municipio">
            <td><input type="checkbox" (change)="addIdEstados(item)"></td>
            <td>{{item.descripcion}}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <button style="margin-bottom: 15px;" mat-button="" mat-dialog-close="" class="btn-tp radiu-tp btn-alert mt-4" type="button"
    (click)="saveNewEstados()">
        <span class="mat-button-wrapper" >Agregar</span>
      </button>
  </div>
</div>


<div class="modal-1 radiu-tp" *ngIf="data.tipo ===15" style="height: 675px;">
  <div class="text-center mt-4">
    <div class="modal-header">
      <h2 class="text-gris mb-3">{{data.file.name}}</h2>
      <button mat-button="" mat-dialog-close="" style="background-color: transparent;" type="button" class="close"
        aria-label="Close">Cerrar
      </button>
    </div>
  </div>
  <div class="text-center mt-1">
    <img src="{{data.file.url}}" style="width: 100%;height: 100%; object-fit:contain">  
  </div>
  
</div>
